<!DOCTYPE html>
<html lang="zh">
    <head><meta name="generator" content="Hexo 3.9.0">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.3.3 -->

    <!-- Title -->
    
    <title>
        
            Web-API之DeviceOrientationEvent-与DeviceMotionEvent | 
        
        BluedWeb
    </title>

    <!-- Meta & Info -->
    <meta charset="utf-8">

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    
    
    
    
    
    

    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="Blued">
    <meta name="description" content>
    <meta name="keywords" content>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.ico">
    <link rel="icon" sizes="192x192" href="/img/favicon.ico">
    <link rel="apple-touch-icon" href="/img/favicon.ico">

    <!--iOS -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="BluedWeb">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://web.blued.cn">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Web-API之DeviceOrientationEvent-与DeviceMotionEvent | BluedWeb">
    <meta property="og:description" content>
    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import CSS & jQuery -->
    
        <link rel="stylesheet" href="/css/material.min.css">
        <link rel="stylesheet" href="/css/style.min.css">
        <!-- Config CSS -->


<!-- Other Styles -->
<style>
  body, html {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", SimSun, sans-serif;;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

  #post-content pre {
    background: #272822;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->


        <script src="/js/jquery.min.js"></script>
        <script src="/js/queue.js"></script>
    

    <!-- UC Browser Compatible -->
    <script>
        var agent = navigator.userAgent.toLowerCase();
        if(agent.indexOf('ucbrowser')>0) {
            document.write("<link rel=\"stylesheet\" href=\"/css/uc.css\">");
            alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
        }
    </script>

    

    


    <!-- Bing Background -->
    

    <!-- Custom Head -->
    
<link rel="stylesheet" href="/css/prism-okaidia.css" type="text/css"></head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#DeviceOrientationEvent"><span class="post-toc-number">1.</span> <span class="post-toc-text">DeviceOrientationEvent</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#DeviceOrientationEvent-主要属性"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">DeviceOrientationEvent 主要属性</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#关于alpha、beta、gamma三个角度的示意图"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">关于alpha、beta、gamma三个角度的示意图</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#DeviceMotionEvent"><span class="post-toc-number">2.</span> <span class="post-toc-text">DeviceMotionEvent</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#DeviceMotionEvent-主要属性"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">DeviceMotionEvent 主要属性</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#引入方式"><span class="post-toc-number">3.</span> <span class="post-toc-text">引入方式</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#兼容性"><span class="post-toc-number">4.</span> <span class="post-toc-text">兼容性</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#相关库-parallax-js"><span class="post-toc-number">5.</span> <span class="post-toc-text">相关库 parallax.js</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#示例demo"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">示例demo</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#parallax-js-主要的API"><span class="post-toc-number">5.2.</span> <span class="post-toc-text">parallax.js 主要的API</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#友情链接"><span class="post-toc-number">5.3.</span> <span class="post-toc-text">友情链接:</span></a></li></ol></li></ol>

        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
  <!-- Paradox Post Header -->
  
    
      <!-- Random Thumbnail -->
      <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50" data-original="">
        <script>
  var randomNum = Math.floor(Math.random() * 19 + 1);

  if (!$('.post_thumbnail-random').attr('data-original')) {
    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
  }
  $('.post_thumbnail-random').addClass('lazy');
</script>

      
      
        <p class="article-headline-p">
          Web-API之DeviceOrientationEvent-与DeviceMotionEvent
        </p>
      </div>
    

    


                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

  <!-- Author Avatar -->
  <div id="author-avatar">
    <img src="https://avatars0.githubusercontent.com/u/16115512?v=3" width="44px" height="44px" alt="Author Avatar"/>
  </div>
  <!-- Author Name & Date -->
  <div>
    <strong>
      <a href="https://github.com/GodEngine">GodEngine</a>
    </strong>
    <span>6月 15, 2017</span>
  </div>

  <div class="section-spacer"></div>

  <!-- Favorite -->
  <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

  <!-- Qrcode -->
  
    <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
      <i class="material-icons" role="presentation">devices other</i>
      <span class="visuallyhidden">devices other</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
      <li class="mdl-menu__item">在其它设备中阅读本文章</li>
      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ4AAAEOCAAAAABd2qZ5AAADiElEQVR42u3aO3LcMBAFwL3/pe3UgcV9b4bgrqoakUoFkUAzGM3n9cf6Z70Q4MCBAwcOHDhw4MDxxRyveP20/z8vuNx//eTrJ/x08tldcODAgQPHOY43oSg4XP631zvbPfnzf9qDAwcOHDjOcSQhML9Yi5KH8zY8v7kLDhw4cOD4KMcsDctpZhA4cODAgeP3ciSpVE7Qgm6Kkjhw4MCB43mOfUp2fdCoCTTa87FaKQ4cOHDguGmg4Zt//sB8Bw4cOHDgWKy8bJeztmEyH6eIboQDBw4cOG7lSEp1+SHaoYR8T1scTG6HAwcOHDjOceQNm/yIyc624ZQPVRQfBgcOHDhwHOBohxU2baTZJWdtrSg848CBAweOAxyb4YDNgF2bbrVp57A4iAMHDhw4FhybBKkNn9d7kkSubYwlNDhw4MCB4xxHC9Feb5Y6tuniqu2EAwcOHDhu4shH05Ly3Cz4tQ2q/CRF2wkHDhw4cNzawd+0ke4qL7afpE3Yii4cDhw4cOAYcewDbRuMkzSvaBqNAj8OHDhw4DjNEbVn1gXE9mnJCWetKRw4cODAcZqjTY3aq7YtqFnAzltQOHDgwIHjHEdysVka1obJdkDhrpIlDhw4cOB4nqN+QUmcQ+cjDsWAHQ4cOHDgOMYxG0HYH33Waso53rwXBw4cOHDcypGXBfNm0r74uP9XIG+D4cCBAweOezmSYetZGW5zsXacesOKAwcOHDhOcyTNoTZlaocbNm2kvOyIAwcOHDhOcLTDB3mC1wbpNs3LC45F2wkHDhw4cNzEkR+xLfnlKdYs/O+TTBw4cODA8QzHJuzNrnRXKbBO8HDgwIEDx+Mcm9B47yBdnjoW5UgcOHDgwHGAY9/yaQPqLFhe72xHKHDgwIEDxwmOWfunPVAbVtswnzeZcODAgQPHaY57g1Y7vrC/ds6KAwcOHDie5EjaS7MGzyzEtgXHWbkQBw4cOHCc49iEz80wxKb5tPkMOHDgwIHjHMcrXrNS4CxFnA3Y5cEVBw4cOHCc5kiCaxLYZmF4ViLMA+2b9+LAgQMHjmMcs0ZRO45QhMDRSeqmFA4cOHDg+ChH0gSa4W7SsBklDhw4cOD4To72KO3wwWwMInkaDhw4cOA4zZEX4NoUbhM+NyN6q0CLAwcOHDgWHO1Aw+z3edhOWlb5J8GBAwcOHE9yWDhw4MCBAwcOHDhw4Piy9RdpVwcXjUGD6gAAAABJRU5ErkJggg==">
    </ul>
  

  <!-- Tags (bookmark) -->
  
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
      <i class="material-icons" role="presentation">bookmark</i>
      <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
      <li class="mdl-menu__item">
        
    </ul>
  

  <!-- Share -->
  <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    

    <!-- Share Twitter -->
    

    <!-- Share Facebook -->
    

    <!-- Share Google+ -->
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>w3c提供了关于提供主机设备物理方向的DOM事件标准。</p>
<p>凡实现了该标准的User agent必须提供名为deviceorientation和devicemotion 的Dom事件，且事件响应的类型为DeviceOrientationEvent和DeviceMotionEvent，且该两个事件必须在window Object上触发。</p>
<h2 id="DeviceOrientationEvent"><a href="#DeviceOrientationEvent" class="headerlink" title="DeviceOrientationEvent"></a>DeviceOrientationEvent</h2><p>DeviceOrientationEvent提供与运行当前页面的设备有关的方向信息</p>
<h3 id="DeviceOrientationEvent-主要属性"><a href="#DeviceOrientationEvent-主要属性" class="headerlink" title="DeviceOrientationEvent 主要属性"></a>DeviceOrientationEvent 主要属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>取值范围</th>
<th>默认值</th>
<th>趋势</th>
</tr>
</thead>
<tbody>
<tr>
<td>alpha</td>
<td>0~360</td>
<td>绕z轴转，屏幕长度方向距y轴的偏移角度</td>
<td>360/0 附近</td>
<td>顺时针至0，逆时针至360</td>
</tr>
<tr>
<td>beta</td>
<td>-180~0~180</td>
<td>绕x轴转，屏幕垂直方向距z轴的偏移角度</td>
<td>0附近</td>
<td>顺时针至180，逆时针至-180</td>
</tr>
<tr>
<td>gamma</td>
<td>-90~0~90</td>
<td>绕y轴转，屏幕宽度方向距x轴的偏移角度</td>
<td>0附近</td>
<td>顺时针至90，逆时针至-90</td>
</tr>
</tbody>
</table>
<h3 id="关于alpha、beta、gamma三个角度的示意图"><a href="#关于alpha、beta、gamma三个角度的示意图" class="headerlink" title="关于alpha、beta、gamma三个角度的示意图"></a>关于alpha、beta、gamma三个角度的示意图</h3><p><img src="/img/godengine/alpha.png" alt="alpha角"><br><img src="/img/godengine/beta.png" alt="beta角"><br><img src="/img/godengine/gamma.png" alt="gamma角"></p>
<h2 id="DeviceMotionEvent"><a href="#DeviceMotionEvent" class="headerlink" title="DeviceMotionEvent"></a>DeviceMotionEvent</h2><p>DeviceMotionEvent提供与当前设备位置和方向的速度变化先关的信息</p>
<h3 id="DeviceMotionEvent-主要属性"><a href="#DeviceMotionEvent-主要属性" class="headerlink" title="DeviceMotionEvent 主要属性"></a>DeviceMotionEvent 主要属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
<th>单位</th>
</tr>
</thead>
<tbody>
<tr>
<td>acceleration</td>
<td>包含x,y,z方向上的加速度</td>
<td>m/s^2</td>
</tr>
<tr>
<td>accelerationIncludingGravity</td>
<td>含x,y,z方向上的加速度且带地球重力加速度g的影响</td>
<td>m/s^2</td>
</tr>
<tr>
<td>rotationRate</td>
<td>绕三个轴每秒的旋转速度</td>
<td>deg/s</td>
</tr>
</tbody>
</table>
<h2 id="引入方式"><a href="#引入方式" class="headerlink" title="引入方式"></a>引入方式</h2><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// 判断当前window对象是否有DeviceMotionEvent属性，有则监听devicemotion事件:</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>DeviceMotionEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"devicemotion"</span><span class="token punctuation">,</span> motionHandler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment" spellcheck="true">// 判断当前window对象是否有DeviceOrientationEvent属性，有则监听deviceorientation事件:</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>DeviceOrientationEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"deviceorientation"</span><span class="token punctuation">,</span> orientationHandler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<h2 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h2><p>移动端支持大部分浏览器（不支持的为IE phone和Opera Mobile）</p>
<h2 id="相关库-parallax-js"><a href="#相关库-parallax-js" class="headerlink" title="相关库 parallax.js"></a>相关库 <a href="https://github.com/wagerfield/parallax" target="_blank" rel="noopener">parallax.js</a></h2><p><a href="https://github.com/wagerfield/parallax" target="_blank" rel="noopener">parallax.js</a>为支持监听pc端鼠标hover移动事件或监听移动端重力感应事件的库，并对相关的层做视差位移的效果。</p>
<h3 id="示例demo"><a href="#示例demo" class="headerlink" title="示例demo"></a>示例demo</h3><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!--class和data-depth是必须要的--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>scene<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>scene<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>layer<span class="token punctuation">"</span></span> <span class="token attr-name">data-depth</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.00<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/parallax/layer1.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>layer<span class="token punctuation">"</span></span> <span class="token attr-name">data-depth</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0.80<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/parallax/layer2.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>layer<span class="token punctuation">"</span></span> <span class="token attr-name">data-depth</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0.60<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/parallax/layer3.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>layer<span class="token punctuation">"</span></span> <span class="token attr-name">data-depth</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0.40<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/parallax/layer4.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>layer<span class="token punctuation">"</span></span> <span class="token attr-name">data-depth</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0.20<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/parallax/layer5.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>layer<span class="token punctuation">"</span></span> <span class="token attr-name">data-depth</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0.00<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./img/parallax/layer6.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
</code></pre>
<pre class=" language-javascript"><code class="language-javascript">    <span class="token keyword">import</span> Parallax form <span class="token string">'./parallax.js'</span>

    <span class="token keyword">let</span> scene <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#scene'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> parallax <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parallax</span><span class="token punctuation">(</span>scene<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      relativeInput<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      clipRelativeInput<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      hoverOnly<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      calibrateX<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      calibrateY<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      invertX<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      invertY<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      limitX<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      limitY<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
      scalarX<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      scalarY<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
      frictionX<span class="token punctuation">:</span> <span class="token number">0.2</span><span class="token punctuation">,</span>
      frictionY<span class="token punctuation">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span>
      originX<span class="token punctuation">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
      originY<span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>
      precision<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      pointerEvents<span class="token punctuation">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">/*
    xMotion = parentElement.width  * (scalarX / 100) * layerDepth
    yMotion = parentElement.height * (scalarY / 100) * layerDepth

    layer层在x,y方向上的位移是由父元素scene的尺寸以及scalarX，scalarY以及layerDepth属性计算而成的
  */</span>

</code></pre>
<h3 id="parallax-js-主要的API"><a href="#parallax-js-主要的API" class="headerlink" title="parallax.js 主要的API"></a>parallax.js 主要的API</h3><table>
<thead>
<tr>
<th>Behaviour</th>
<th>Values</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>relativeInput</code></td>
<td><code>true</code> or <code>false</code></td>
<td><code>false</code></td>
<td>Specifies whether or not to use the coordinate system of the scene. <strong>Mouse input only.</strong></td>
</tr>
<tr>
<td><code>clipRelativeInput</code></td>
<td><code>true</code> or <code>false</code></td>
<td><code>false</code></td>
<td>Specifies whether or not to clip the mouse input to the scene bounds. No effect in combination with <code>hoverOnly</code>. <strong>Mouse input only.</strong></td>
</tr>
<tr>
<td><code>hoverOnly</code></td>
<td><code>true</code> or <code>false</code></td>
<td><code>false</code></td>
<td>Apply the parallax effect only while the cursor is over the scene. Best together with <code>relativeInput</code> set to true. <strong>Mouse input only.</strong></td>
</tr>
<tr>
<td><code>calibrate-x</code></td>
<td><code>true</code> or <code>false</code></td>
<td><code>false</code></td>
<td>是否储存或者计算初始化的x坐标值，默认false</td>
</tr>
<tr>
<td><code>calibrate-y</code></td>
<td><code>true</code> or <code>false</code></td>
<td><code>true</code></td>
<td>是否储存或者计算初始化的y坐标值，默认false</td>
</tr>
<tr>
<td><code>invert-x</code></td>
<td><code>true</code> or <code>false</code></td>
<td><code>true</code></td>
<td>设置层相当于设备方向的移动方向，true为反向，false为正向，默认为true</td>
</tr>
<tr>
<td><code>invert-y</code></td>
<td><code>true</code> or <code>false</code></td>
<td><code>true</code></td>
<td>设置层相当于设备方向的移动方向，true为反向，false为正向，默认为true</td>
</tr>
<tr>
<td><code>limit-x</code></td>
<td><code>number</code> or <code>false</code></td>
<td><code>false</code></td>
<td>number限制x轴的值或者false不限制</td>
</tr>
<tr>
<td><code>limit-y</code></td>
<td><code>number</code> or <code>false</code></td>
<td><code>false</code></td>
<td>number限制y轴的值或者false不限制</td>
</tr>
<tr>
<td><code>scalar-x</code></td>
<td><code>number</code></td>
<td><code>10.0</code></td>
<td>x方向的位移计算中的一个与灵敏度有关的乘积因子，默认10</td>
</tr>
<tr>
<td><code>scalar-y</code></td>
<td><code>number</code></td>
<td><code>10.0</code></td>
<td>y方向的位移计算中的一个与灵敏度有关的乘积因子，默认10</td>
</tr>
<tr>
<td><code>friction-x</code></td>
<td><code>number</code> <code>0 - 1</code></td>
<td><code>0.1</code></td>
<td>影响位移平滑度的一个参数，0~1之间，默认0.1</td>
</tr>
<tr>
<td><code>friction-y</code></td>
<td><code>number</code> <code>0 - 1</code></td>
<td><code>0.1</code></td>
<td>影响位移平滑度的一个参数，0~1之间，默认0.1</td>
</tr>
<tr>
<td><code>origin-x</code></td>
<td><code>number</code></td>
<td><code>0.5</code></td>
<td>x轴方向上的初始化鼠标位置，默认0.5位于中间，0 位于左侧，1位于右侧</td>
</tr>
<tr>
<td><code>origin-y</code></td>
<td><code>number</code></td>
<td><code>0.5</code></td>
<td>y轴方向上的初始化鼠标位置，默认0.5位于中间，0 位于左侧，1位于右侧</td>
</tr>
<tr>
<td><code>precision</code></td>
<td><code>integer</code></td>
<td><code>1</code></td>
<td>Decimals the element positions should be rounded to. Changing this value should not be necessary anytime soon.</td>
</tr>
<tr>
<td><code>pointerEvents</code></td>
<td><code>true</code> or <code>false</code></td>
<td><code>false</code></td>
<td>设为false可以屏蔽一些点击事件，提高视差的性能，默认false</td>
</tr>
</tbody>
</table>
<h3 id="友情链接"><a href="#友情链接" class="headerlink" title="友情链接:"></a>友情链接:</h3><p><a href="http://w3c.github.io/deviceorientation/spec-source-orientation.html#devicemotion" target="_blank" rel="noopener">w3c文档</a></p>
<p><a href="https://www.html5rocks.com/en/tutorials/device/orientation/" target="_blank" rel="noopener">html5rocks orientation</a></p>

    

    
</div>


                

                <!-- Post Comments -->
                
                    




    <!-- 使用 DISQUS -->
    <div id="disqus-comment">
        <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
        this.page.url = 'http://web.blued.cn/2017/06/15/Web-API之DeviceOrientationEvent-与DeviceMotionEvent/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://web.blued.cn/2017/06/15/Web-API之DeviceOrientationEvent-与DeviceMotionEvent/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    queue.offer(function() {
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document;
                var s = d.createElement('script');
                s.src = '//bluedweb.disqus.com/embed.js';
                s.setAttribute('data-timestamp', + new Date());
                (d.head || d.body).appendChild(s);
            })();
        });
</script>

    </div>
    <style>
        #disqus-comment{
            background-color: #eee;
            padding: 2pc;
        }
    </style>




                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/06/29/interactive-npm-scripts/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/06/14/framework-qa/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
  <!-- Top bar -->
  <div class="top-bar"></div>

  <!-- Sidebar toggle button -->
  <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
    <i class="material-icons">clear_all</i>
    <span class="mdl-button__ripple-container">
      <span class="mdl-ripple"></span>
    </span>
  </button>

  <!-- Sidebar Avatar -->
  <div class="sidebar-image">
    <img src="/img/avatar.png" alt="Blued's avatar">
  </div>

  <!-- Sidebar Email -->
  <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
    web@blued.com
    <b class="caret"></b>
  </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto:web@blued.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
                <li>
                    <a href="https://github.com/bluedapp" target="_blank" title="GitHub">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">home</i>
                        
                        GitHub
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/" target="_self">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2019/10/">十月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/08/">八月 2019<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/04/">四月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/01/">一月 2019<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/09/">九月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/05/">五月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/04/">四月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/03/">三月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/12/">十二月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/10/">十月 2017<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/09/">九月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/08/">八月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/07/">七月 2017<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/06/">六月 2017<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/05/">五月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/04/">四月 2017<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/blued" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-twitter.svg);">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/bluedapp" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-facebook.svg);">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    

    <!-- Weibo -->
    
        <a href="http://weibo.com/bluedapp" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-weibo.svg);">
                <span class="visuallyhidden">Weibo</span>
            </button><!--
     --></a>
    

    <!-- Instagram -->
    
        <a href="https://instagram.com/bluedapp" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-instagram.svg);">
                <span class="visuallyhidden">Instagram</span>
            </button><!--
     --></a>
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/bluedapp" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-github.svg);">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;
            <script type="text/javascript">
                var fd = new Date();
                document.write(fd.getFullYear());
            </script>
            &nbsp;BluedWeb
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->

    <script src="/js/lazyload.min.js"></script>
    <script src="/js/js.min.js"></script>



    <script src="/js/nprogress.js"></script>


<script type="text/javascript">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>












    <!-- 使用 DISQUS js 代码 -->
    <script id="dsq-count-scr" src="//bluedweb.disqus.com/count.js" async></script>





<!-- Window Load-->
<script>
    $(window).load(function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->

<script>
    <!-- Offer LazyLoad -->
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    <!-- Start Queue -->
    $(document).ready(function(){
        setTimeout(function(){
            setInterval(function(){
                queue.execNext();
            },200);
        },3000);
    });
</script>

                </main>
            </div>
        </body>
    
</html>
